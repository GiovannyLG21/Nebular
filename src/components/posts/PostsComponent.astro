---
import { getCollection } from 'astro:content';
import { getPosts, groupPostsByYear } from '@/libs/functions';
import PostCard from './PostCard.astro';

const posts = await getPosts()
const postsGrouped = groupPostsByYear(posts)
---

<div class="flex flex-col gap-16">
    {postsGrouped.map(({ year, posts }) => (
        <article class="flex flex-col gap-6">
            <h2 class="text-md font-bold">{year}</h2>
            {posts.map(post => <PostCard post={post}/>)}
        </article>
    ))}
</div>